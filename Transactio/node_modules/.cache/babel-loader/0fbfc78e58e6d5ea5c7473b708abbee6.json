{"ast":null,"code":"var _jsxFileName = \"/home/dell/Desktop/Transact.io_app/Transactio/src/components/HeroSection.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport './HeroSection.css';\nimport { Button } from './Button';\nimport { getWeb3 } from '../components/pages/Services/connectWallet';\nimport Web3 from 'web3';\nimport Web3Modal from \"web3modal\";\nimport { connectMetamask, updateAccount } from '../features/metamaskSlice';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction HeroSection(_ref) {\n  _s();\n\n  let {\n    lightBg,\n    topLine,\n    lightText,\n    lightTextDesc,\n    headline,\n    description,\n    buttonLabel,\n    img,\n    alt,\n    imgStart\n  } = _ref;\n  const dispatch = useDispatch(); // const [account, setaccount] = useState('')\n\n  const account = useSelector(state => state.metamask.accountNumber);\n  const metamaskConnected = useSelector(state => state.metamask.isMetamaskConnected); // const [metamaskConnected, setMetamaskConnected] = useState(false)\n\n  const balance = useSelector(state => state.metamask.balance);\n\n  const getweb = async () => {\n    const web = await getWeb3();\n    console.log(web);\n  };\n\n  const handleConnectWallet = async () => {\n    if (window.ethereum) {\n      const data = await window.ethereum.request({\n        method: \"eth_requestAccounts\"\n      });\n      console.log(data);\n\n      if (data) {\n        //setaccount(data[0])\n        dispatch(updateAccount(data[0]));\n        dispatch(connectMetamask(true)); //setMetamaskConnected(true)\n      }\n    } else {\n      alert(\"install metamask extension!\");\n    }\n  };\n\n  const handleDisconnectWallet = async () => {\n    //setaccount('')\n    dispatch(updateAccount(''));\n    dispatch(connectMetamask(false)); //setMetamaskConnected(false)\n  };\n\n  const checkIsConnected = async () => {\n    const acc = await window.ethereum.request({\n      method: 'eth_accounts'\n    });\n    console.log(\"already connected \", acc);\n    return acc;\n  };\n\n  useEffect(() => {\n    async function callCheckIsConnected() {\n      const isConnected = await checkIsConnected();\n      console.log(\"is connected method\", isConnected);\n      if (isConnected.length > 0) dispatch(connectMetamask(true));else dispatch(connectMetamask(false));\n    }\n\n    callCheckIsConnected(); // if (checkIsConnected()) {\n    //   console.log(\"setting metamask connected\")\n    //   setMetamaskConnected(true)\n    // }\n    // else {\n    //   setMetamaskConnected(false)\n    // }\n\n    console.log(\"calling getweb\");\n    getweb();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: lightBg ? 'home__hero-section' : 'home__hero-section darkBg',\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row home__hero-row\",\n          style: {\n            display: 'flex',\n            flexDirection: imgStart === 'start' ? 'row-reverse' : 'row'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"home__hero-text-wrapper\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"top-line\",\n                children: topLine\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n                className: lightText ? 'heading' : 'heading dark',\n                children: headline\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: lightTextDesc ? 'home__hero-subtitle' : 'home__hero-subtitle dark',\n                children: description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 17\n              }, this), !metamaskConnected && /*#__PURE__*/_jsxDEV(Button, {\n                buttonSize: \"btn--wide\",\n                buttonColor: \"blue\",\n                onClick: handleConnectWallet,\n                children: buttonLabel\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 40\n              }, this), metamaskConnected && /*#__PURE__*/_jsxDEV(Button, {\n                buttonSize: \"btn--wide\",\n                buttonColor: \"red\",\n                onClick: handleDisconnectWallet,\n                children: \"wallet connected\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 121,\n                columnNumber: 39\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"home__hero-img-wrapper\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: img,\n                alt: alt,\n                className: \"home__hero-img\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 129,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_s(HeroSection, \"/kMyC4grh02uD6raoK1627JIjhM=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector];\n});\n\n_c = HeroSection;\nexport default HeroSection;\n\nvar _c;\n\n$RefreshReg$(_c, \"HeroSection\");","map":{"version":3,"names":["React","useState","useEffect","useSelector","useDispatch","Button","getWeb3","Web3","Web3Modal","connectMetamask","updateAccount","HeroSection","lightBg","topLine","lightText","lightTextDesc","headline","description","buttonLabel","img","alt","imgStart","dispatch","account","state","metamask","accountNumber","metamaskConnected","isMetamaskConnected","balance","getweb","web","console","log","handleConnectWallet","window","ethereum","data","request","method","alert","handleDisconnectWallet","checkIsConnected","acc","callCheckIsConnected","isConnected","length","display","flexDirection"],"sources":["/home/dell/Desktop/Transact.io_app/Transactio/src/components/HeroSection.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {useSelector , useDispatch} from 'react-redux'\nimport './HeroSection.css';\nimport { Button } from './Button';\nimport { getWeb3 } from '../components/pages/Services/connectWallet'\nimport Web3 from 'web3';\nimport Web3Modal from \"web3modal\";\nimport { connectMetamask, updateAccount } from '../features/metamaskSlice';\n\nfunction HeroSection({\n  lightBg,\n  topLine,\n  lightText,\n  lightTextDesc,\n  headline,\n  description,\n  buttonLabel,\n  img,\n  alt,\n  imgStart\n}) {\n\n  const dispatch = useDispatch()\n\n  // const [account, setaccount] = useState('')\n  const account = useSelector(state => state.metamask.accountNumber)\n  const metamaskConnected = useSelector(state => state.metamask.isMetamaskConnected)\n  // const [metamaskConnected, setMetamaskConnected] = useState(false)\n  const balance = useSelector(state => state.metamask.balance)\n  const getweb = async () => {\n    const web = await getWeb3();\n    console.log(web)\n  }\n\n  const handleConnectWallet = async () => {\n    if (window.ethereum) {\n      const data = await window.ethereum.request({ method: \"eth_requestAccounts\" })\n      console.log(data)\n      if (data) {\n        //setaccount(data[0])\n        dispatch(updateAccount(data[0]))\n        dispatch(connectMetamask(true))\n        //setMetamaskConnected(true)\n      }\n    }\n    else {\n      alert(\"install metamask extension!\")\n    }\n  }\n\n  const handleDisconnectWallet = async () => {\n\n    //setaccount('')\n    dispatch(updateAccount(''))\n    dispatch(connectMetamask(false))\n    //setMetamaskConnected(false)\n  }\n  const checkIsConnected = async () => {\n    const acc = await window.ethereum.request({ method: 'eth_accounts' })\n    console.log(\"already connected \", acc)\n    return acc\n  }\n\n  useEffect(() => {\n    async function callCheckIsConnected() {\n      const isConnected = await checkIsConnected()\n      console.log(\"is connected method\", isConnected)\n      if (isConnected.length > 0)\n        dispatch(connectMetamask(true))\n      else\n        dispatch(connectMetamask(false))\n    }\n    callCheckIsConnected()\n    // if (checkIsConnected()) {\n    //   console.log(\"setting metamask connected\")\n    //   setMetamaskConnected(true)\n    // }\n    // else {\n\n    //   setMetamaskConnected(false)\n    // }\n    console.log(\"calling getweb\")\n    getweb();\n  }, [])\n\n\n\n\n  return (\n    <>\n      <div\n        className={lightBg ? 'home__hero-section' : 'home__hero-section darkBg'}\n      >\n        <div className='container'>\n          <div\n            className='row home__hero-row'\n            style={{\n              display: 'flex',\n              flexDirection: imgStart === 'start' ? 'row-reverse' : 'row'\n            }}\n          >\n            <div className='col'>\n              <div className='home__hero-text-wrapper'>\n                <div className='top-line'>{topLine}</div>\n                <h1 className={lightText ? 'heading' : 'heading dark'}>\n                  {headline}\n                </h1>\n                <p\n                  className={\n                    lightTextDesc\n                      ? 'home__hero-subtitle'\n                      : 'home__hero-subtitle dark'\n                  }\n                >\n                  {description}\n                </p>\n\n                {!metamaskConnected && <Button buttonSize='btn--wide' buttonColor='blue' onClick={handleConnectWallet}>\n                  {buttonLabel}\n                </Button>}\n                {metamaskConnected && <Button buttonSize='btn--wide' buttonColor='red' onClick={handleDisconnectWallet}>\n                  wallet connected\n                </Button>}\n\n              </div>\n            </div>\n            <div className='col'>\n              <div className='home__hero-img-wrapper'>\n                <img src={img} alt={alt} className='home__hero-img' />\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default HeroSection;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}